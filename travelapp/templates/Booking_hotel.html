{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Booking Form HTML Template</title>

	<link href="https://fonts.googleapis.com/css?family=Cardo:700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700" rel="stylesheet">

	<link type="text/css" rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
	<link type="text/css" rel="stylesheet" href="{% static 'css/Booking_hotel.css' %}" />

	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<div class="booking-form">
						<div class="form-header">
							<h1>Make your reservation</h1>
						</div>
						<form method="post" action="{% url 'travelapp:book_hotel' hotel_id=hotel_id %}">
							{% csrf_token %}
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<span class="form-label">Check In</span>
										<input id="arrival_date" class="form-control" name="arrival_date" type="date" min="{{ today }}" required>
									</div>
									<span class="in-out hidden-xs hidden-sm">&#8652;</span>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<span class="form-label">Check out</span>
										<input class="form-control" type="date" name="departure_date" min="{{ today }}" required>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label">No of rooms</span>
										<select class="form-control" name="room_type">
											<option value="single">single</option>
											<option value="double">double</option>
											<option value="three">three</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label">Adults</span>
										<select class="form-control" name="adult_count">
											<option>1</option>
											<option>2</option>
											<option>3</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label">Children</span>
										<select class="form-control" name="children_count">
											<option>0</option>
											<option>1</option>
											<option>2</option>
										</select>
										<span class="select-arrow"></span>
									</div>
								</div>
								<div class="col-md-3">
									<div class="form-btn">
										<button class="submit-btn" type="button" onclick="checkAvailability()">Check availability</button>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="error-message" style="display: none; color: red;"></div>

	<script>
		// Get today's date in the format required by the date input (YYYY-MM-DD)
		var today = new Date().toISOString().split('T')[0];

		// Set minimum values for the date inputs
		document.getElementById("arrival_date").setAttribute('min', today);
		document.getElementsByName("departure_date")[0].setAttribute('min', today);

		function checkAvailability() {
			var arrivalDate = document.getElementById("arrival_date").value;
			var departureDate = document.getElementsByName("departure_date")[0].value;

			if (arrivalDate < today) {
				showError("Please select a valid Check In date.");
			} else if (departureDate < today) {
				showError("Please select a valid Check Out date.");
			} else {
				// Continue with form submission or other actions
				document.getElementById("error-message").style.display = 'none';
				// ...
			}
		}

		function showError(message) {
			var errorMessage = document.getElementById('error-message');
			errorMessage.innerHTML = message;
			errorMessage.style.display = 'block';
		}
	</script>
</body>

</html>
